AJG23005 中 天花
課題２のプログラムを５回実行したときの結果は以下のようになった。

１回目
構造体変数を仮引数とした場合の計算時間:1.6e-05
構造体の参照を仮引数とした場合の計算時間:7e-06
２回目
構造体変数を仮引数とした場合の計算時間:1e-05
構造体の参照を仮引数とした場合の計算時間:2e-06
３回目
構造体変数を仮引数とした場合の計算時間:1.4e-05
構造体の参照を仮引数とした場合の計算時間:2e-06
４回目
構造体変数を仮引数とした場合の計算時間:1.7e-05
構造体の参照を仮引数とした場合の計算時間:6e-06
５回目
構造体変数を仮引数とした場合の計算時間:1.7e-05
構造体の参照を仮引数とした場合の計算時間:3e-06

よって、構造体変数を仮引数とした場合の計算時間の方が、構造体の参照を仮引数にした場合よりも計算時間が長いことが読み取れる。

値渡しの場合、構造体の実引数が関数に渡されるときに、構造体のコピーの作成と破棄とが行われる。そのため、関数が呼び出されるたびに構造体のすべてのメンバをメモリ上でコピーし、破棄することになる。よって、そのコピーにかかる時間の分だけ計算時間が長くなってしまう。

一方で参照渡しの場合、関数に渡すのは構造体のアドレスであり、メモリのコピーは不必要なので、その分の計算時間が短縮される。

以上の理由によって、構造体変数を仮引数とした場合の計算時間の方が長くなったと考えられる。
